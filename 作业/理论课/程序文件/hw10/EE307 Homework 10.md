 <h2 align = 'center'><font size ='6.5'>EE307 Homework 10 </h2>

<h2 align = 'center'><font size ='5.5'>11911303 吉辰卿 </h2>



### Problem ：

### 1. Write a (MATLAB) program to plot 2D linear array pattern

### Solution：

- **We can use the App of MATLAB --Antenna Array Designer to design the Antenna Array. We assume that all the antennas in the antenna array are dipole antennas and the working frequency is 2.4GHz. Therefore, the design code is as follows:**

  - **The MATLAB code is shown below:**

    ```matlab
    % Create a linearArray with dipole element.
    % Generated by MATLAB(R) 9.10 and Antenna Toolbox 5.0.
    % Generated on: 02-May-2022 12:56:54
    
    %% Array Properties 
    
    SubObject = design(dipole, 2400*1e6);
    arrayObject = design(linearArray('Element', SubObject), 2400*1e6, SubObject);
    arrayObject.NumElements = 10;
    arrayObject.ElementSpacing = 0.0625;
    
    %% Array Analysis 
    % Show for linearArray
    figure;
    show(arrayObject) 
    % Layout for linearArray
    figure;
    layout(arrayObject) 
    ```
  
  - **The result figure is shown below:**

<div align='center'>
<img src="E:\桌面\EE307-HW10\绘图\array_antenna.png" style="zoom:80%;" /></div>


<center> Figure 1 2D linear array pattern with 10 elements</center>

### 2. Test program using a 10 element array spaced at λ/2. Show phase shift changes the main beam direction 
- **Firstly, for this problem, we need to be clear about which objective function to choose as the drawing target for our 2D orientation graph. From what we have learned in this class, we can choose normalized $AF$ as the objective function of 2D direction graph, as shown below:**

$$
AF_{n}=\dfrac{\sin \left( \dfrac{N\psi }{2}\right) }{N\sin \left( \psi /2\right) }
$$

- **In the above expression, the $\psi$ can be expressed as:**

$$
\psi =kd\cos \theta _{m}+\beta
$$

- **Where $\beta$ stands for the phase shift. Therefore, we need to use $AF$ as the target expression and $\theta$ as the independent variable to draw the 2D polar radiation pattern. Of course, we need to change the value of the phase shift each time to see if the phase shift has an effect on the direction of the main beam direction. Here, we write the phase shift in a loop, and observe whether the direction of the main beam changes by changing the value of the phase shift in each loop, as shown in the MATLAB code below:**

```matlab
for i=0:6
    theta = linspace (0,2*pi,100);
    N=10;
    fi =pi*cos(theta)+i*pi/3;
    AF =sin(N*fi/2)./(N*sin(fi/2));
    figure(i+1);
    polarplot(theta,AF);
    switch i
    case 0
        title('phaseshift= 0');
    case 1
        title('phaseshift= pi/3');
    case 2
        title('phaseshift= 2*pi/3');
    case 3
        title('phaseshift= pi');
    case 4
        title('phaseshift= 4*pi/3');
    case 5
        title('phaseshift= 5*pi/3');
    case 6
        title('phaseshift= 2*pi');
    otherwise
        break
    end
end
```

- **Finally, the result is shown below:**

<div align='center'>
<img src="E:\桌面\EE307-HW10\绘图\01.png" style="zoom:80%;" /></div>

<center> Figure 2 2D radiation pattern when phase shift is 0</center>

<div align='center'>
<img src="E:\桌面\EE307-HW10\绘图\02.png" style="zoom:80%;" /></div>
<center> Figure 3 2D radiation pattern when phase shift is pi/3</center>

<div align='center'>
<img src="E:\桌面\EE307-HW10\绘图\03.png" style="zoom:80%;" /></div>
<center> Figure 4 2D radiation pattern when phase shift is 2*pi/3</center>

<div align='center'>
<img src="E:\桌面\EE307-HW10\绘图\04.png" style="zoom:80%;" /></div>
<center> Figure 5 2D radiation pattern when phase shift is pi</center>

<div align='center'>
<img src="E:\桌面\EE307-HW10\绘图\05.png" style="zoom:80%;" /></div>
<center> Figure 6 2D radiation pattern when phase shift is 4*pi/3</center>

<div align='center'>
<img src="E:\桌面\EE307-HW10\绘图\06.png" style="zoom:80%;" /></div>
<center> Figure 7 2D radiation pattern when phase shift is 5*pi/3</center>

<div align='center'>
<img src="E:\桌面\EE307-HW10\绘图\07.png" style="zoom:80%;" /></div>
<center> Figure 8 2D radiation pattern when phase shift is 2*pi</center>

- **In a conclusion, when the phase shift increases from 0 to 2*pi, the direction of the main beam changes constantly.**

